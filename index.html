<!DOCTYPE html>
<html>
<head>
    <title>Generate Shoe Images per Conditions</title>
    <meta charset="utf-8" />
    <link rel="icon" type="image/x-icon" href="./favicon.png" />
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <link rel="stylesheet" href="./assets/css/examples.css" />
</head>
<body>
<nav class="navbar" style="background-color: #000000">
    <div class="app-header">
        <a href="">
            <img src="./logo.png" class="logo" />
        </a>
        <a class="title" href="" style="color: #f0ab3c">KNN avg Generator</a>
    </div>
</nav>

<div>Type conditions here: </div>
<table>
    <tr>
        <td> R </td>
        <td> <input type="text" style="border:3px solid #F7730E;" value="0" id="testInput1"/> </td>
        <td> Y </td>
        <td> <input type="text" style="border:3px solid #F7730E;" value="175" id="testInput2"/> </td>
        <td> Bl </td>
        <td> <input type="text" style="border:3px solid #F7730E;" value="0" id="testInput3"/> </td>
        <td> W </td>
        <td> <input type="text" style="border:3px solid #F7730E;" value="0" id="testInput4"/> </td>
        <td> Br </td>
        <td> <input type="text" style="border:3px solid #F7730E;" value="300" id="testInput5"/> </td>
    </tr>
    <tr>
        <td> Bk </td>
        <td> <input type="text" style="border:3px solid #F7730E;" value="24" id="testInput6"/> </td>
        <td> G </td>
        <td> <input type="text" style="border:3px solid #F7730E;" value="7" id="testInput7"/> </td>
        <td> O </td>
        <td> <input type="text" style="border:3px solid #F7730E;" value="1459" id="testInput8"/> </td>
        <td> Pu </td>
        <td> <input type="text" style="border:3px solid #F7730E;" value="12" id="testInput9"/> </td>
        <td> Pi </td>
        <td> <input type="text" style="border:3px solid #F7730E;" value="308750" id="testInput10"/> </td>
    </tr>
</table>

<button id="get-time" class="py-button">Generate</button>

<p id="current-val"></p>
<div id="test-output"></div>
<div id="pandas-output"></div>

<section class="pyscript">
    <div id="mpl"></div>
    <py-config>
        packages = [
          "matplotlib",
          "pandas",
        ]
        plugins = [
          "https://pyscript.net/latest/plugins/python/py_tutor.py"
        ]
    </py-config>
</section>

<script type="text/javascript">
    function my_gen_function() {
        // Get the input values
        var inputs = document.querySelectorAll('input[type="text"]');
        var conditions = [];
        inputs.forEach(function(input) {
            conditions.push(parseFloat(input.value));
        });

        // Display the conditions (optional)
        var conditionsText = "Conditions: " + conditions.join(", ");
        document.getElementById('current-val').innerText = conditionsText;

        // Simulate an AJAX request to the server (replace this with actual logic)
        setTimeout(function() {
            var responseImgSrc = "path/to/generated/image.jpg";
            var imgElement = document.createElement('img');
            imgElement.src = responseImgSrc;
            document.getElementById('test-output').innerHTML = "";
            document.getElementById('test-output').appendChild(imgElement);
        }, 2000);
    }

    // Add event listener to the button
    document.getElementById("get-time").addEventListener("click", my_gen_function);
</script>
</body>
</html>
